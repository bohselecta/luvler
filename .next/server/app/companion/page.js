(()=>{var e={};e.id=122,e.ids=[122],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6005:e=>{"use strict";e.exports=require("node:crypto")},87561:e=>{"use strict";e.exports=require("node:fs")},49411:e=>{"use strict";e.exports=require("node:path")},70330:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>d,routeModule:()=>p,tree:()=>c}),s(65708),s(81949),s(26083),s(96560);var a=s(23191),r=s(88716),n=s(37922),l=s.n(n),i=s(95231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);s.d(t,o);let c=["",{children:["companion",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,65708)),"/Users/home/dev/ABA-tool/app/companion/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,81949)),"/Users/home/dev/ABA-tool/app/layout.tsx"],error:[()=>Promise.resolve().then(s.bind(s,26083)),"/Users/home/dev/ABA-tool/app/error.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,96560)),"/Users/home/dev/ABA-tool/app/not-found.tsx"]}],d=["/Users/home/dev/ABA-tool/app/companion/page.tsx"],m="/companion/page",u={require:s,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/companion/page",pathname:"/companion",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},17130:(e,t,s)=>{Promise.resolve().then(s.bind(s,2028))},2028:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var a=s(10326),r=s(17577);function n({defaultTitle:e,defaultInterests:t,autoGenerate:s}){let[n,l]=(0,r.useState)(e||"Say hello"),[i,o]=(0,r.useState)(t&&t.join(", ")||"drawing"),[c,d]=(0,r.useState)([]),[m,u]=(0,r.useState)(!1);return(0,a.jsxs)("div",{className:"luvler-card",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Friendship Pathway"}),a.jsx("p",{className:"text-gray-700 mt-1",children:"Pick an interest and generate small social steps."}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-3 mt-3",children:[a.jsx("input",{value:n,onChange:e=>l(e.target.value),className:"luvler-input",placeholder:"Title"}),a.jsx("input",{value:i,onChange:e=>o(e.target.value),className:"luvler-input",placeholder:"Interests (comma separated)"})]}),a.jsx("button",{onClick:async()=>{u(!0);let e=await fetch("/api/pathways",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:n,interests:i.split(",").map(e=>e.trim())})});d((await e.json()).steps||[]),u(!1)},className:"luvler-button-primary mt-3",children:m?"Generating…":"Generate plan"}),c.length>0&&a.jsx("ol",{className:"mt-4 space-y-2 list-decimal ml-5",children:c.map(e=>(0,a.jsxs)("li",{className:"text-gray-900",children:[a.jsx("span",{className:"font-medium",children:e.instruction}),e.tip&&(0,a.jsxs)("span",{className:"text-gray-600",children:[" — ",e.tip]})]},e.order))})]})}function l(){let[e,t]=(0,r.useState)(3);return(0,a.jsxs)("div",{className:"luvler-card",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Energy & Sensory"}),a.jsx("p",{className:"text-gray-700 mt-1",children:"Quick check-in. Adjust your plan gently."}),a.jsx("div",{className:"flex items-center gap-2 mt-3",children:[1,2,3,4].map(s=>a.jsx("button",{onClick:()=>t(s),className:`w-10 h-6 rounded ${s<=e?"bg-success-500":"bg-gray-300"}`,"aria-label":`Energy ${s}`},s))}),(0,a.jsxs)("p",{className:"text-gray-700 mt-2",children:["Current: ",["Low","Okay","Good","Full"][e-1]]})]})}function i(){let[e,t]=(0,r.useState)([{name:"Food",target:150,spent:92},{name:"Transit",target:60,spent:20},{name:"Fun",target:40,spent:10}]),[s,n]=(0,r.useState)([]);return(0,a.jsxs)("div",{className:"luvler-card",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Budget Jars"}),a.jsx("p",{className:"text-gray-700 mt-1",children:"Analog-friendly jars. Move small amounts weekly."}),a.jsx("div",{className:"grid md:grid-cols-3 gap-3 mt-3",children:e.map(e=>{let s=Math.min(100,Math.round(e.spent/Math.max(1,e.target)*100));return(0,a.jsxs)("div",{className:"border rounded-xl p-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-medium text-gray-900",children:e.name}),(0,a.jsxs)("span",{className:"text-sm text-gray-600",children:["$",e.spent,"/$",e.target]})]}),a.jsx("div",{className:"luvler-progress mt-2",children:a.jsx("div",{className:"luvler-progress-bar",style:{width:`${s}%`}})}),(0,a.jsxs)("div",{className:"flex gap-2 mt-2",children:[a.jsx("button",{onClick:()=>t(t=>t.map(t=>t.name===e.name?{...t,spent:Math.max(0,t.spent-5)}:t)),className:"luvler-button-secondary",children:"-5"}),a.jsx("button",{onClick:()=>t(t=>t.map(t=>t.name===e.name?{...t,spent:t.spent+5}:t)),className:"luvler-button-secondary",children:"+5"})]})]},e.name)})}),a.jsx("button",{onClick:async()=>{let t=await fetch("/api/budget",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jars:e})});n((await t.json()).tips||[])},className:"luvler-button-primary mt-3",children:"Get tips"}),s.length>0&&a.jsx("ul",{className:"mt-3 list-disc ml-5 text-gray-700",children:s.map((e,t)=>a.jsx("li",{children:e},t))})]})}function o({defaultSlug:e,autoLoad:t}){let[s,n]=(0,r.useState)([]),[l,i]=(0,r.useState)(!1);async function o(e){i(!0);try{let t=await fetch("/api/tracks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({slug:e})}),s=await t.json();n((s.outline||[]).map(e=>({id:e.id,title:e.title})))}finally{i(!1)}}return(0,a.jsxs)("div",{className:"luvler-card",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Track Map"}),a.jsx("p",{className:"text-gray-700 mt-1",children:"Aleph → Bet principle: one step unlocks the next."}),a.jsx("button",{onClick:()=>o(e||"illustration"),className:"luvler-button-primary mt-3",children:l?"Loading…":"Load outline"}),s.length>0&&a.jsx("ul",{className:"mt-3 list-disc ml-5 text-gray-700",children:s.map(e=>a.jsx("li",{children:e.title},e.id))})]})}function c(){let[e,t]=(0,r.useState)(null),[s,c]=(0,r.useState)(!1);return(0,a.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-12",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Companion"}),a.jsx("p",{className:"text-gray-700 mt-2",children:"Dashboard for goals, friends, and creations (demo)."}),s&&(0,a.jsxs)("div",{className:"mt-4 p-4 border border-success-200 bg-success-50 rounded-xl flex items-center justify-between",children:[a.jsx("div",{className:"text-success-900 text-sm",children:"Quick‑start generated from your onboarding. You can change it anytime."}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>c(!1),className:"luvler-button-secondary",children:"Dismiss"}),a.jsx("a",{href:"/onboarding",className:"luvler-button-primary",children:"Edit onboarding"})]})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mt-6",children:[a.jsx(l,{}),a.jsx(n,{defaultTitle:e?.goal||"Say hello",defaultInterests:e?.interests||["drawing"],autoGenerate:!0}),a.jsx(i,{}),a.jsx(o,{defaultSlug:e?.interests&&e.interests.includes("illustration")?"illustration":"general",autoLoad:!0})]})]})}},65708:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(68570).createProxy)(String.raw`/Users/home/dev/ABA-tool/app/companion/page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[948,501,421],()=>s(70330));module.exports=a})();