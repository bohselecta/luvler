(()=>{var e={};e.id=1122,e.ids=[1122],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6005:e=>{"use strict";e.exports=require("node:crypto")},87561:e=>{"use strict";e.exports=require("node:fs")},49411:e=>{"use strict";e.exports=require("node:path")},70330:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>d,routeModule:()=>p,tree:()=>c}),t(65708),t(53101),t(26083),t(96560);var a=t(23191),r=t(88716),l=t(37922),n=t.n(l),i=t(95231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);t.d(s,o);let c=["",{children:["companion",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,65708)),"/Users/home/dev/ABA-tool/app/companion/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,53101)),"/Users/home/dev/ABA-tool/app/layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,26083)),"/Users/home/dev/ABA-tool/app/error.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,96560)),"/Users/home/dev/ABA-tool/app/not-found.tsx"]}],d=["/Users/home/dev/ABA-tool/app/companion/page.tsx"],m="/companion/page",u={require:t,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/companion/page",pathname:"/companion",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},17130:(e,s,t)=>{Promise.resolve().then(t.bind(t,2028))},2028:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>j});var a=t(10326),r=t(17577),l=t(67427),n=t(6343),i=t(24061),o=t(1572),c=t(39183),d=t(30401);function m({defaultTitle:e,defaultInterests:s,autoGenerate:t}){let[m,u]=(0,r.useState)("understanding"),[p,x]=(0,r.useState)(e||"Make a friend who likes Pokemon"),[h,g]=(0,r.useState)(s&&s.join(", ")||"pokemon, games"),[j,y]=(0,r.useState)([]),[f,b]=(0,r.useState)(!1),[v,N]=(0,r.useState)(new Set),k=[{id:"understanding",title:"Understanding",description:"Explore what friendship means to you",icon:l.Z,color:"text-pink-600",bgColor:"bg-pink-50"},{id:"practice",title:"Practice",description:"Build skills through safe exercises",icon:n.Z,color:"text-blue-600",bgColor:"bg-blue-50"},{id:"opportunities",title:"Opportunities",description:"Find structured social connections",icon:i.Z,color:"text-green-600",bgColor:"bg-green-50"},{id:"confidence",title:"Confidence",description:"Track progress and celebrate growth",icon:o.Z,color:"text-purple-600",bgColor:"bg-purple-50"}],w=async()=>{b(!0);try{let e=(0,d.QB)(),s=(0,d.i_)(),t=await fetch("/api/pathways",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:p,interests:h.split(",").map(e=>e.trim()),processingModalities:e,specialInterests:s,includeContextualReasons:!0})}),a=await t.json();a.steps&&(y(a.steps),N(new Set(["understanding"])))}finally{b(!1)}},S=e=>{let s=new Set(v);s.add(e),N(s);let t=k.findIndex(s=>s.id===e);t<k.length-1&&u(k[t+1].id)},C=k.find(e=>e.id===m),P=j.filter(e=>e.phase===m);return(0,a.jsxs)("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-center gap-2 md:gap-4",children:k.map((e,s)=>{let t=e.icon,r=v.has(e.id),l=e.id===m;return(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsxs)("button",{onClick:()=>u(e.id),className:`flex flex-col items-center p-3 rounded-xl transition-all ${l?"bg-primary-50 border-2 border-primary-200":r?"bg-green-50 border-2 border-green-200":"bg-gray-50 border-2 border-gray-200 hover:bg-gray-100"}`,children:[a.jsx("div",{className:`${e.bgColor} p-2 rounded-lg mb-2`,children:a.jsx(t,{className:`w-4 h-4 ${l?e.color:r?"text-green-600":"text-gray-400"}`})}),a.jsx("span",{className:`text-xs font-medium ${l?"text-primary-700":r?"text-green-700":"text-gray-600"}`,children:e.title})]}),s<k.length-1&&a.jsx(c.Z,{className:"w-4 h-4 text-gray-400 mx-1 hidden md:block"})]},e.id)})}),(0,a.jsxs)("div",{className:"luvler-card",children:[(0,a.jsxs)("div",{className:"flex items-start gap-4 mb-6",children:[a.jsx("div",{className:`${C.bgColor} p-3 rounded-xl flex-shrink-0`,children:a.jsx(C.icon,{className:`w-6 h-6 ${C.color}`})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-xl font-semibold text-gray-900",children:[C.title," Phase"]}),a.jsx("p",{className:"text-gray-600 mt-1",children:C.description})]})]}),"understanding"===m&&(0,a.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"What friendship goal would you like to work toward?"}),a.jsx("input",{value:p,onChange:e=>x(e.target.value),className:"luvler-input w-full",placeholder:"e.g., Make a friend who likes Pokemon"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Shared interests to build around"}),a.jsx("input",{value:h,onChange:e=>g(e.target.value),className:"luvler-input w-full",placeholder:"e.g., pokemon, games, drawing"})]}),a.jsx("button",{onClick:w,disabled:f,className:"luvler-button-primary w-full",children:f?"Creating your pathway...":"Generate Friendship Pathway"})]}),P.length>0&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("h4",{className:"font-medium text-gray-900",children:[P.length," step",1!==P.length?"s":""," for this phase:"]}),a.jsx("div",{className:"space-y-3",children:P.map((e,s)=>a.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"bg-primary-100 text-primary-700 w-6 h-6 rounded-full flex items-center justify-center text-sm font-medium flex-shrink-0 mt-0.5",children:s+1}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("p",{className:"text-gray-900 font-medium",children:e.instruction}),e.tip&&(0,a.jsxs)("p",{className:"text-gray-600 text-sm mt-2 italic",children:["\uD83D\uDCA1 ",e.tip]})]})]})},e.id))}),!v.has(m)&&(0,a.jsxs)("button",{onClick:()=>S(m),className:"luvler-button-primary w-full mt-4",children:["Complete ",C.title," Phase"]})]}),"understanding"===m&&0===j.length&&(0,a.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"What happens in Understanding?"}),(0,a.jsxs)("ul",{className:"text-sm text-blue-800 space-y-1",children:[a.jsx("li",{children:"• Explore what friendship means to you personally"}),a.jsx("li",{children:"• Think about the kinds of connections that feel good"}),a.jsx("li",{children:"• Consider what makes social interactions feel safe"}),a.jsx("li",{children:"• This is a private, judgment-free space"})]})]}),"practice"===m&&(0,a.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-green-900 mb-2",children:"Practice Phase Tips"}),(0,a.jsxs)("ul",{className:"text-sm text-green-800 space-y-1",children:[a.jsx("li",{children:"• Start small and build confidence gradually"}),a.jsx("li",{children:"• Practice in low-pressure situations first"}),a.jsx("li",{children:"• Focus on the process, not perfection"}),a.jsx("li",{children:"• Your pace and comfort level matter most"})]})]}),"opportunities"===m&&(0,a.jsxs)("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-purple-900 mb-2",children:"Finding Opportunities"}),(0,a.jsxs)("ul",{className:"text-sm text-purple-800 space-y-1",children:[a.jsx("li",{children:"• Look for groups centered around your special interests"}),a.jsx("li",{children:"• Start with virtual meetups if in-person feels overwhelming"}),a.jsx("li",{children:"• Set personal goals for each social interaction"}),a.jsx("li",{children:"• Remember: showing up is a success, regardless of outcome"})]})]}),"confidence"===m&&(0,a.jsxs)("div",{className:"bg-pink-50 border border-pink-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-pink-900 mb-2",children:"Building Confidence"}),(0,a.jsxs)("ul",{className:"text-sm text-pink-800 space-y-1",children:[a.jsx("li",{children:'• Track your attempts, not just "successes"'}),a.jsx("li",{children:"• Celebrate small wins and brave moments"}),a.jsx("li",{children:"• Reflect on what you're learning about yourself"}),a.jsx("li",{children:"• Your journey is uniquely yours - honor that"})]})]})]})]})}function u(){let[e,s]=(0,r.useState)(3);return(0,a.jsxs)("div",{className:"luvler-card",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Energy & Sensory"}),a.jsx("p",{className:"text-gray-700 mt-1",children:"Quick check-in. Adjust your plan gently."}),a.jsx("div",{className:"flex items-center gap-2 mt-3",children:[1,2,3,4].map(t=>a.jsx("button",{onClick:()=>s(t),className:`w-10 h-6 rounded ${t<=e?"bg-success-500":"bg-gray-300"}`,"aria-label":`Energy ${t}`},t))}),(0,a.jsxs)("p",{className:"text-gray-700 mt-2",children:["Current: ",["Low","Okay","Good","Full"][e-1]]})]})}function p(){let[e,s]=(0,r.useState)([{name:"Food",target:150,spent:92},{name:"Transit",target:60,spent:20},{name:"Fun",target:40,spent:10}]),[t,l]=(0,r.useState)([]);return(0,a.jsxs)("div",{className:"luvler-card",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Budget Jars"}),a.jsx("p",{className:"text-gray-700 mt-1",children:"Analog-friendly jars. Move small amounts weekly."}),a.jsx("div",{className:"grid md:grid-cols-3 gap-3 mt-3",children:e.map(e=>{let t=Math.min(100,Math.round(e.spent/Math.max(1,e.target)*100));return(0,a.jsxs)("div",{className:"border rounded-xl p-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-medium text-gray-900",children:e.name}),(0,a.jsxs)("span",{className:"text-sm text-gray-600",children:["$",e.spent,"/$",e.target]})]}),a.jsx("div",{className:"luvler-progress mt-2",children:a.jsx("div",{className:"luvler-progress-bar",style:{width:`${t}%`}})}),(0,a.jsxs)("div",{className:"flex gap-2 mt-2",children:[a.jsx("button",{onClick:()=>s(s=>s.map(s=>s.name===e.name?{...s,spent:Math.max(0,s.spent-5)}:s)),className:"luvler-button-secondary",children:"-5"}),a.jsx("button",{onClick:()=>s(s=>s.map(s=>s.name===e.name?{...s,spent:s.spent+5}:s)),className:"luvler-button-secondary",children:"+5"})]})]},e.name)})}),a.jsx("button",{onClick:async()=>{let s=await fetch("/api/budget",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jars:e})});l((await s.json()).tips||[])},className:"luvler-button-primary mt-3",children:"Get tips"}),t.length>0&&a.jsx("ul",{className:"mt-3 list-disc ml-5 text-gray-700",children:t.map((e,s)=>a.jsx("li",{children:e},s))})]})}function x({defaultSlug:e,autoLoad:s}){let[t,l]=(0,r.useState)([]),[n,i]=(0,r.useState)(!1);async function o(e){i(!0);try{let s=await fetch("/api/tracks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({slug:e})}),t=await s.json();l((t.outline||[]).map(e=>({id:e.id,title:e.title})))}finally{i(!1)}}return(0,a.jsxs)("div",{className:"luvler-card",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Track Map"}),a.jsx("p",{className:"text-gray-700 mt-1",children:"Aleph → Bet principle: one step unlocks the next."}),a.jsx("button",{onClick:()=>o(e||"illustration"),className:"luvler-button-primary mt-3",children:n?"Loading…":"Load outline"}),t.length>0&&a.jsx("ul",{className:"mt-3 list-disc ml-5 text-gray-700",children:t.map(e=>a.jsx("li",{children:e.title},e.id))})]})}var h=t(53468),g=t(90434);function j(){let[e,s]=(0,r.useState)(null),[t,n]=(0,r.useState)(!1);return(0,a.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-12",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Companion"}),a.jsx("p",{className:"text-gray-700 mt-2",children:"Your confidence journey, one step at a time."})]}),a.jsx(g.default,{href:"/privacy",className:"text-sm text-primary-600 hover:text-primary-700 font-medium",children:"Privacy Settings →"})]}),t&&(0,a.jsxs)("div",{className:"mb-8 p-4 border border-success-200 bg-success-50 rounded-xl flex items-center justify-between",children:[a.jsx("div",{className:"text-success-900 text-sm",children:"Quick‑start generated from your onboarding. You can change it anytime."}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>n(!1),className:"luvler-button-secondary",children:"Dismiss"}),a.jsx("a",{href:"/onboarding",className:"luvler-button-primary",children:"Edit onboarding"})]})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsx(g.default,{href:"/companion/friends",className:"group block",children:(0,a.jsxs)("div",{className:"luvler-card group-hover:shadow-lg transition-all duration-200",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"bg-pink-100 p-2 rounded-lg group-hover:scale-105 transition-transform",children:a.jsx(l.Z,{className:"w-5 h-5 text-pink-600"})}),a.jsx("h3",{className:"font-semibold text-gray-900",children:"Friendship Builder"})]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Build confidence through friendship, one small step at a time."}),(0,a.jsxs)("div",{className:"mt-4 flex items-center gap-2 text-sm font-medium text-pink-600 group-hover:text-pink-700",children:[a.jsx("span",{children:"Start exploring"}),a.jsx("span",{className:"group-hover:translate-x-1 transition-transform",children:"→"})]})]})}),a.jsx(g.default,{href:"/self-advocacy",className:"group block",children:(0,a.jsxs)("div",{className:"luvler-card group-hover:shadow-lg transition-all duration-200",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"bg-blue-100 p-2 rounded-lg group-hover:scale-105 transition-transform",children:a.jsx(h.Z,{className:"w-5 h-5 text-blue-600"})}),a.jsx("h3",{className:"font-semibold text-gray-900",children:"Goal Setting"})]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Break down tasks into clear, manageable steps you can follow."}),(0,a.jsxs)("div",{className:"mt-4 flex items-center gap-2 text-sm font-medium text-blue-600 group-hover:text-blue-700",children:[a.jsx("span",{children:"Set a goal"}),a.jsx("span",{className:"group-hover:translate-x-1 transition-transform",children:"→"})]})]})}),a.jsx(g.default,{href:"/companion/rewards",className:"group block",children:(0,a.jsxs)("div",{className:"luvler-card group-hover:shadow-lg transition-all duration-200",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"bg-purple-100 p-2 rounded-lg group-hover:scale-105 transition-transform",children:a.jsx(h.Z,{className:"w-5 h-5 text-purple-600"})}),a.jsx("h3",{className:"font-semibold text-gray-900",children:"Reward Games"})]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Create your own motivation system with rewards that matter to you."}),(0,a.jsxs)("div",{className:"mt-4 flex items-center gap-2 text-sm font-medium text-purple-600 group-hover:text-purple-700",children:[a.jsx("span",{children:"Create a game"}),a.jsx("span",{className:"group-hover:translate-x-1 transition-transform",children:"→"})]})]})}),a.jsx(g.default,{href:"/learn",className:"group block",children:(0,a.jsxs)("div",{className:"luvler-card group-hover:shadow-lg transition-all duration-200",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"bg-green-100 p-2 rounded-lg group-hover:scale-105 transition-transform",children:a.jsx(i.Z,{className:"w-5 h-5 text-green-600"})}),a.jsx("h3",{className:"font-semibold text-gray-900",children:"Learning Tracks"})]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Explore creative tracks and build new skills at your own pace."}),(0,a.jsxs)("div",{className:"mt-4 flex items-center gap-2 text-sm font-medium text-green-600 group-hover:text-green-700",children:[a.jsx("span",{children:"Start learning"}),a.jsx("span",{className:"group-hover:translate-x-1 transition-transform",children:"→"})]})]})})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx(u,{}),a.jsx(m,{defaultTitle:e?.goal||"Say hello",defaultInterests:e?.interests||["drawing"],autoGenerate:!0}),a.jsx(p,{}),a.jsx(x,{defaultSlug:e?.interests&&e.interests.includes("illustration")?"illustration":"general",autoLoad:!0})]})]})}},30401:(e,s,t)=>{"use strict";function a(){return({}).processingModalities||[]}function r(){let e={};return e.specialInterests||e.interests||[]}t.d(s,{QB:()=>a,i_:()=>r})},6343:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]])},39183:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},67427:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},1572:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]])},53468:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},24061:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},65708:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(68570).createProxy)(String.raw`/Users/home/dev/ABA-tool/app/companion/page.tsx#default`)}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[8948,4910,8753,2715],()=>t(70330));module.exports=a})();