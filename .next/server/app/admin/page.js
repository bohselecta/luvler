(()=>{var e={};e.id=3,e.ids=[3],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6005:e=>{"use strict";e.exports=require("node:crypto")},87561:e=>{"use strict";e.exports=require("node:fs")},49411:e=>{"use strict";e.exports=require("node:path")},52171:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>o}),t(66136),t(53101),t(26083),t(96560);var a=t(23191),i=t(88716),r=t(37922),l=t.n(r),n=t(95231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);t.d(s,d);let o=["",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,66136)),"/Users/home/dev/ABA-tool/app/admin/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,53101)),"/Users/home/dev/ABA-tool/app/layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,26083)),"/Users/home/dev/ABA-tool/app/error.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,96560)),"/Users/home/dev/ABA-tool/app/not-found.tsx"]}],c=["/Users/home/dev/ABA-tool/app/admin/page.tsx"],u="/admin/page",m={require:t,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/admin/page",pathname:"/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},56999:(e,s,t)=>{Promise.resolve().then(t.bind(t,88381))},88381:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});var a=t(10326),i=t(17577);function r(){let[e,s]=(0,i.useState)(""),[t,r]=(0,i.useState)("individual"),[l,n]=(0,i.useState)(""),[d,o]=(0,i.useState)([]),[c,u]=(0,i.useState)(!1);async function m(){let e=await fetch("/api/get-usage").then(e=>e.json()).catch(()=>null);e?.ok&&o([{userId:"me",tier:e.tier,used:e.used,limit:e.limit}])}return(0,a.jsxs)("div",{className:"max-w-3xl mx-auto px-4 py-10",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Admin"}),(0,a.jsxs)("div",{className:"luvler-card",children:[a.jsx("h2",{className:"font-semibold text-gray-900",children:"Set user tier"}),(0,a.jsxs)("div",{className:"grid md:grid-cols-3 gap-3 mt-3",children:[a.jsx("input",{value:e,onChange:e=>s(e.target.value),placeholder:"Clerk userId",className:"luvler-input"}),(0,a.jsxs)("select",{value:t,onChange:e=>r(e.target.value),className:"luvler-input",children:[a.jsx("option",{value:"free",children:"Free"}),a.jsx("option",{value:"individual",children:"Individual"}),a.jsx("option",{value:"clinician",children:"Clinician"}),a.jsx("option",{value:"clinic",children:"Clinic / Team"})]}),a.jsx("button",{className:"luvler-button-primary",disabled:c||!e,onClick:async()=>{u(!0),await fetch("/api/admin/set-tier",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e,tier:t})}),u(!1)},children:c?"Saving…":"Save"})]})]}),(0,a.jsxs)("div",{className:"luvler-card mt-6",children:[a.jsx("h2",{className:"font-semibold text-gray-900",children:"Set organization tier"}),(0,a.jsxs)("div",{className:"grid md:grid-cols-3 gap-3 mt-3",children:[a.jsx("input",{value:l,onChange:e=>n(e.target.value),placeholder:"Clerk organizationId",className:"luvler-input"}),(0,a.jsxs)("select",{value:t,onChange:e=>r(e.target.value),className:"luvler-input",children:[a.jsx("option",{value:"free",children:"Free"}),a.jsx("option",{value:"individual",children:"Individual"}),a.jsx("option",{value:"clinician",children:"Clinician"}),a.jsx("option",{value:"clinic",children:"Clinic / Team"})]}),a.jsx("button",{className:"luvler-button-primary",disabled:c||!l,onClick:async()=>{u(!0),await fetch("/api/admin/set-org-tier",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({orgId:l,tier:t})}),u(!1)},children:c?"Saving…":"Save"})]})]}),(0,a.jsxs)("div",{className:"luvler-card mt-6",children:[a.jsx("h2",{className:"font-semibold text-gray-900",children:"Usage (you)"}),a.jsx("button",{className:"luvler-button-secondary mt-3",onClick:m,children:"Refresh"}),a.jsx("div",{className:"mt-4 overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full text-left text-sm",children:[a.jsx("thead",{children:(0,a.jsxs)("tr",{className:"text-gray-500",children:[a.jsx("th",{className:"py-2",children:"User"}),a.jsx("th",{className:"py-2",children:"Tier"}),a.jsx("th",{className:"py-2",children:"Used"}),a.jsx("th",{className:"py-2",children:"Limit"})]})}),a.jsx("tbody",{children:d.map((e,s)=>(0,a.jsxs)("tr",{className:"border-t",children:[a.jsx("td",{className:"py-2",children:e.userId}),a.jsx("td",{className:"py-2",children:e.tier}),a.jsx("td",{className:"py-2",children:e.used}),a.jsx("td",{className:"py-2",children:e.limit})]},s))})]})})]})]})}},66136:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(68570).createProxy)(String.raw`/Users/home/dev/ABA-tool/app/admin/page.tsx#default`)}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[8948,4910,8753,2715],()=>t(52171));module.exports=a})();