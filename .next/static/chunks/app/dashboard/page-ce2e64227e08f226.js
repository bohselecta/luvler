(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{2937:function(e,t,a){Promise.resolve().then(a.bind(a,1720))},1720:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return n}});var s=a(7437),l=a(2265);function n(){let[e,t]=(0,l.useState)(0),[a,n]=(0,l.useState)(5),[i,r]=(0,l.useState)(!0);(0,l.useEffect)(()=>{(async()=>{try{let s=await fetch("/api/get-usage?tier=free"),l=await s.json();if(l&&l.ok){var e,a;t(null!==(e=l.used)&&void 0!==e?e:0),n(null!==(a=l.limit)&&void 0!==a?a:5)}}catch(e){}r(!1)})()},[]);let c=Math.min(100,Math.round(e/Math.max(1,a)*100));return(0,s.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-12",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),(0,s.jsx)("p",{className:"text-gray-700 mt-2",children:"Usage meters and account management will appear here."}),(0,s.jsxs)("div",{className:"luvler-card mt-6",children:[(0,s.jsx)("h2",{className:"font-semibold text-gray-900",children:"Current Plan"}),(0,s.jsxs)("p",{className:"text-gray-700 mt-1",children:["Free (Discovery) • ",e,"/",a," analyses used this month"]}),(0,s.jsx)("div",{className:"luvler-progress mt-3",children:(0,s.jsx)("div",{className:"luvler-progress-bar",style:{width:"".concat(c,"%")}})}),(0,s.jsxs)("div",{className:"mt-4 flex gap-3",children:[(0,s.jsx)("button",{onClick:async()=>{let e=await fetch("/api/get-usage?tier=free"),a=await e.json();if(a&&a.ok){var s,l;t(null!==(s=a.used)&&void 0!==s?s:0),n(null!==(l=a.limit)&&void 0!==l?l:5)}},className:"luvler-button-secondary",children:"Refresh usage"}),(0,s.jsx)("button",{onClick:async()=>{let e=await fetch("/api/create-checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tier:"individual"})}),t=await e.json();t.checkoutUrl&&(window.location.href=t.checkoutUrl)},className:"luvler-button-primary",children:"Upgrade"})]}),i&&(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Loading usage…"})]})]})}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=2937)}),_N_E=e.O()}]);