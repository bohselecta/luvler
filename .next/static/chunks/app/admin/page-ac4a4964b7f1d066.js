(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{9080:function(e,s,a){Promise.resolve().then(a.bind(a,9725))},9725:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return t}});var l=a(7437),i=a(2265);function t(){let[e,s]=(0,i.useState)(""),[a,t]=(0,i.useState)("individual"),[n,r]=(0,i.useState)(""),[c,d]=(0,i.useState)([]),[u,o]=(0,i.useState)(!1);async function h(){let e=await fetch("/api/get-usage").then(e=>e.json()).catch(()=>null);(null==e?void 0:e.ok)&&d([{userId:"me",tier:e.tier,used:e.used,limit:e.limit}])}return(0,i.useEffect)(()=>{h()},[]),(0,l.jsxs)("div",{className:"max-w-3xl mx-auto px-4 py-10",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Admin"}),(0,l.jsxs)("div",{className:"luvler-card",children:[(0,l.jsx)("h2",{className:"font-semibold text-gray-900",children:"Set user tier"}),(0,l.jsxs)("div",{className:"grid md:grid-cols-3 gap-3 mt-3",children:[(0,l.jsx)("input",{value:e,onChange:e=>s(e.target.value),placeholder:"Clerk userId",className:"luvler-input"}),(0,l.jsxs)("select",{value:a,onChange:e=>t(e.target.value),className:"luvler-input",children:[(0,l.jsx)("option",{value:"free",children:"Free"}),(0,l.jsx)("option",{value:"individual",children:"Individual"}),(0,l.jsx)("option",{value:"clinician",children:"Clinician"}),(0,l.jsx)("option",{value:"clinic",children:"Clinic / Team"})]}),(0,l.jsx)("button",{className:"luvler-button-primary",disabled:u||!e,onClick:async()=>{o(!0),await fetch("/api/admin/set-tier",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e,tier:a})}),o(!1)},children:u?"Saving…":"Save"})]})]}),(0,l.jsxs)("div",{className:"luvler-card mt-6",children:[(0,l.jsx)("h2",{className:"font-semibold text-gray-900",children:"Set organization tier"}),(0,l.jsxs)("div",{className:"grid md:grid-cols-3 gap-3 mt-3",children:[(0,l.jsx)("input",{value:n,onChange:e=>r(e.target.value),placeholder:"Clerk organizationId",className:"luvler-input"}),(0,l.jsxs)("select",{value:a,onChange:e=>t(e.target.value),className:"luvler-input",children:[(0,l.jsx)("option",{value:"free",children:"Free"}),(0,l.jsx)("option",{value:"individual",children:"Individual"}),(0,l.jsx)("option",{value:"clinician",children:"Clinician"}),(0,l.jsx)("option",{value:"clinic",children:"Clinic / Team"})]}),(0,l.jsx)("button",{className:"luvler-button-primary",disabled:u||!n,onClick:async()=>{o(!0),await fetch("/api/admin/set-org-tier",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({orgId:n,tier:a})}),o(!1)},children:u?"Saving…":"Save"})]})]}),(0,l.jsxs)("div",{className:"luvler-card mt-6",children:[(0,l.jsx)("h2",{className:"font-semibold text-gray-900",children:"Usage (you)"}),(0,l.jsx)("button",{className:"luvler-button-secondary mt-3",onClick:h,children:"Refresh"}),(0,l.jsx)("div",{className:"mt-4 overflow-x-auto",children:(0,l.jsxs)("table",{className:"w-full text-left text-sm",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{className:"text-gray-500",children:[(0,l.jsx)("th",{className:"py-2",children:"User"}),(0,l.jsx)("th",{className:"py-2",children:"Tier"}),(0,l.jsx)("th",{className:"py-2",children:"Used"}),(0,l.jsx)("th",{className:"py-2",children:"Limit"})]})}),(0,l.jsx)("tbody",{children:c.map((e,s)=>(0,l.jsxs)("tr",{className:"border-t",children:[(0,l.jsx)("td",{className:"py-2",children:e.userId}),(0,l.jsx)("td",{className:"py-2",children:e.tier}),(0,l.jsx)("td",{className:"py-2",children:e.used}),(0,l.jsx)("td",{className:"py-2",children:e.limit})]},s))})]})})]})]})}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=9080)}),_N_E=e.O()}]);