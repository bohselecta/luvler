(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[849],{8065:function(e,a,t){Promise.resolve().then(t.bind(t,7108))},7108:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return i}});var s=t(7437),l=t(2265),n=t(7648);function i(){let[e,a]=(0,l.useState)([]),[t,i]=(0,l.useState)(!0),[r,c]=(0,l.useState)(!1),[u,d]=(0,l.useState)({firstName:"",lastName:"",dob:"",guardianName:""});return(0,l.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/clients"),t=await e.json();t.clients&&a(t.clients)}finally{i(!1)}})()},[]),(0,s.jsxs)("div",{className:"max-w-5xl mx-auto px-4 py-12",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Clients"}),(0,s.jsx)("button",{onClick:()=>c(!0),className:"luvler-button-primary",children:"Add client"})]}),(0,s.jsxs)("div",{className:"luvler-card mt-6",children:[r&&(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("h2",{className:"font-semibold text-gray-900",children:"New client"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-3 mt-3",children:[(0,s.jsx)("input",{value:u.firstName,onChange:e=>d({...u,firstName:e.target.value}),placeholder:"First name",className:"luvler-input"}),(0,s.jsx)("input",{value:u.lastName,onChange:e=>d({...u,lastName:e.target.value}),placeholder:"Last name",className:"luvler-input"}),(0,s.jsx)("input",{value:u.dob,onChange:e=>d({...u,dob:e.target.value}),placeholder:"DOB (YYYY-MM-DD)",className:"luvler-input"}),(0,s.jsx)("input",{value:u.guardianName,onChange:e=>d({...u,guardianName:e.target.value}),placeholder:"Guardian name (optional)",className:"luvler-input"})]}),(0,s.jsxs)("div",{className:"mt-3 flex gap-2",children:[(0,s.jsx)("button",{onClick:async()=>{let t=await fetch("/api/clients",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)}),s=await t.json();s&&s.client&&a([s.client,...e]),c(!1),d({firstName:"",lastName:"",dob:"",guardianName:""})},className:"luvler-button-primary",children:"Save"}),(0,s.jsx)("button",{onClick:()=>c(!1),className:"luvler-button-secondary",children:"Cancel"})]})]}),t?(0,s.jsx)("p",{className:"text-gray-600",children:"Loadingâ€¦"}):0===e.length?(0,s.jsx)("p",{className:"text-gray-600",children:"No clients yet."}):(0,s.jsx)("ul",{className:"divide-y divide-gray-200",children:e.map(e=>(0,s.jsxs)("li",{className:"py-3 flex items-center justify-between",children:[(0,s.jsxs)("span",{className:"text-gray-900",children:[e.firstName," ",e.lastName]}),(0,s.jsx)(n.default,{href:"/clients/".concat(e.id),className:"text-primary-600 hover:underline",children:"Open"})]},e.id))})]})]})}},7648:function(e,a,t){"use strict";t.d(a,{default:function(){return l.a}});var s=t(2972),l=t.n(s)}},function(e){e.O(0,[972,971,117,744],function(){return e(e.s=8065)}),_N_E=e.O()}]);